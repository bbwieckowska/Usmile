% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/3_function_ROCplot.R
\name{ROCplot}
\alias{ROCplot}
\title{Receiver Operating Characteristic (ROC) Curve Plot with AUC Comparison}
\usage{
ROCplot(data_ref, data_new, title = "ROC plot", alternative = "two.sided")
}
\arguments{
\item{data_ref}{List containing reference model output from \code{USprep_mdl} with elements:
\itemize{
\item y - vector of observed values (0/1)
\item p - vector of predicted probabilities
\item n_vars - number of predictor variables in the model
}}

\item{data_new}{List containing new model output from \code{USprep_mdl} (same structure as data_ref)}

\item{title}{Plot title (default: "ROC plot")}

\item{alternative}{Alternative hypothesis for DeLong's test ("two.sided", "greater", or "less")
(default: "two.sided")}
}
\value{
A list containing:
\itemize{
\item plot - ggplot object showing ROC curves with diagonal reference line
\item results_table - data frame with performance metrics:
\itemize{
\item AUC_ref - AUC for reference model
\item AUC_p-value_ref - p-value for reference model AUC vs random
\item AUC_new - AUC for new model
\item AUC_p-value_new - p-value for new model AUC vs random
\item AUC_diff_p_value - p-value for AUC difference (DeLong's test)
}
}
}
\description{
Creates an ROC plot comparing two models and computes area under the curve (AUC)
with statistical significance testing using DeLong's method. Includes reference
line for random classifier performance.
}
\examples{
\dontrun{
# Load Heart Disease datasets
data(heart_disease)
data(heart_disease_train)
data(heart_disease_test)

# Prepare model outputs
model_glm_ref <- glm(disease ~ age + sex + bp + chol, data = train_data, family = "binomial")
model_glm_new <- glm(disease ~ age + sex + bp + chol + cp, data = train_data, family = "binomial")

train_out_ref <- USprep_mdl(model_glm_ref, dataset = NULL, testing = FALSE)
train_out_new <- USprep_mdl(model_glm_new, dataset = NULL, testing = FALSE)

# Create ROC plot with default two-sided test
roc_results <- ROCplot(
  data_ref = train_out_ref,
  data_new = train_out_new,
  title = "ROC: Basic vs Extended Cardiac Model"
)

# Display plot and metrics
roc_results$plot
roc_results$results_table

# Example with one-sided test (testing if new model is better)
ROCplot(
  data_ref = train_out_ref,
  data_new = train_out_new,
  alternative = "greater",
  title = "ROC Curve (New > Reference)"
)

# Example with test data
test_out_ref <- USprep_mdl(model_glm_ref, dataset = test_data, testing = TRUE)
test_out_new <- USprep_mdl(model_glm_new, dataset = test_data, testing = TRUE)

ROCplot(
  data_ref = test_out_ref,
  data_new = test_out_new,
  title = "Test Data ROC Curves"
)
}

}
