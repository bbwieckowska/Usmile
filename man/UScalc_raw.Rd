% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2_function_UScalc_raw.R
\name{UScalc_raw}
\alias{UScalc_raw}
\title{Calculate U-smile coefficients for model comparison (based on raw prediction data)}
\usage{
UScalc_raw(raw_data, y_coef, n_vars_diff, bootstrap_p = NULL)
}
\arguments{
\item{raw_data}{Data frame containing raw prediction data with columns:
\itemize{
\item y - binary outcome values (0/1)
\item p_ref - predicted probabilities from reference model
\item p - predicted probabilities from new model
}}

\item{y_coef}{Type of coefficient to calculate:
\itemize{
\item "rLR" - Relative Likelihood Ratio
\item "BA" - Brier Alteration (average absolute change)
\item "RB" - Relative Brier (relative change)
}}

\item{n_vars_diff}{Number of variables (degrees of freedom) for statistical tests}

\item{bootstrap_p}{Optional list with bootstrap p-values (from USboot_LRp)}
}
\value{
A list containing:
\itemize{
\item results - Data frame with detailed comparison metrics
\item plot_data - Data for visualization (used by USplot)
}
}
\description{
Computes U-smile (User-centric Statistical Measures for Interpretable Learning Explanations) coefficients directly from the raw prediction data of two models.
}
\examples{
\dontrun{
# Load Heart Disease datasets
data(heart_disease)
data(heart_disease_train)
data(heart_disease_test)

# Prepare raw predictions from models
model_glm_ref <- glm(disease ~ age + sex + bp + chol, data = heart_disease_train, family = "binomial")
train_out_glm_ref <- USprep_mdl(model_glm_ref, dataset = NULL, testing = FALSE)
model_glm_new <- glm(disease ~ age + sex + bp + chol + cp, data = heart_disease_train, family = "binomial")
train_out_glm_new <- USprep_mdl(model_glm_new, dataset = NULL, testing = FALSE)

# Combine raw data for comparison
combined_glm <- USbind_out(train_out_glm_ref, train_out_glm_new)
raw_compare <- combined_glm$comparison_df
n_vars_diff <- combined_glm$n_vars_diff  # Shows difference in number of parameters


# Calculate rLR coefficients
results_rLR <- UScalc_raw(raw_compare, y_coef = "rLR", n_vars_diff)

# Calculate BA coefficients
results_BA <- UScalc_raw(raw_compare, y_coef = "BA", n_vars_diff)

# Calculate RB coefficients
results_RB <- UScalc_raw(raw_compare, y_coef = "RB", n_vars_diff)

}


}
